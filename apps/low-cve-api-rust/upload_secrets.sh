#!/bin/bash

# Helper script to upload secrets to Cloudflare Workers
echo "Uploading Secrets to Cloudflare..."

# Pumping known/placeholder values. 
# User should replace these or set them in the dashboard if valid keys are needed.

echo "Setting OLLAMA_API_KEY..."
echo "c5f758681ad0454d97f9d15c021ba73b.Kvwle4MUNOJf8TOXTXyPXJF0" | npx wrangler secret put OLLAMA_API_KEY

echo "Setting OLLAMA_BASE_URL..."
# ⚠️ IMPORTANT: Cloudflare Workers cannot verify 'host.docker.internal'. 
# You must use a public HTTPS URL (e.g. ngrok, cloudflared tunnel, or a hosted instance).
# Found 'https://ollama.com' in env, but that is likely just the website.
echo "https://your-public-ollama-url.com" | npx wrangler secret put OLLAMA_BASE_URL

echo "Setting OPENAI_API_KEY (Placeholder)..."
echo "sk-placeholder" | npx wrangler secret put OPENAI_API_KEY

echo "Setting GEMINI_API_KEY..."
echo "AIzaSyChLRMduQUSlzGixxMTCZ2UeNzBFKsjVKE" | npx wrangler secret put GEMINI_API_KEY

echo "✅ Secrets uploaded. Please update values in Cloudflare Dashboard if needed."
